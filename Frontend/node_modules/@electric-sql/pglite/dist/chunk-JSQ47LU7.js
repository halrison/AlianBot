import{b as oe,d as s,e as h,f as d,g as p,h as ue,i as y}from"./chunk-MPW3RCU6.js";var gn={};oe(gn,{ABSTIME:()=>Pt,ACLITEM:()=>Gt,BIT:()=>_t,BOOL:()=>ge,BPCHAR:()=>ze,BYTEA:()=>we,CHAR:()=>At,CID:()=>xt,CIDR:()=>Ct,CIRCLE:()=>Lt,DATE:()=>qe,FLOAT4:()=>_e,FLOAT8:()=>je,GTSVECTOR:()=>an,INET:()=>Ft,INT2:()=>ve,INT4:()=>Qe,INT8:()=>Ae,INTERVAL:()=>Qt,JSON:()=>Se,JSONB:()=>Ye,MACADDR:()=>Vt,MACADDR8:()=>Ot,MONEY:()=>kt,NUMERIC:()=>zt,OID:()=>We,PATH:()=>Rt,PG_DEPENDENCIES:()=>nn,PG_LSN:()=>en,PG_NDISTINCT:()=>tn,PG_NODE_TREE:()=>Mt,POLYGON:()=>Et,REFCURSOR:()=>Ht,REGCLASS:()=>Kt,REGCONFIG:()=>on,REGDICTIONARY:()=>un,REGNAMESPACE:()=>ln,REGOPER:()=>$t,REGOPERATOR:()=>Yt,REGPROC:()=>St,REGPROCEDURE:()=>qt,REGROLE:()=>cn,REGTYPE:()=>Jt,RELTIME:()=>Ut,SMGR:()=>Tt,TEXT:()=>G,TID:()=>Dt,TIME:()=>vt,TIMESTAMP:()=>$e,TIMESTAMPTZ:()=>De,TIMETZ:()=>Wt,TINTERVAL:()=>Nt,TSQUERY:()=>sn,TSVECTOR:()=>rn,TXID_SNAPSHOT:()=>Zt,UUID:()=>Xt,VARBIT:()=>jt,VARCHAR:()=>He,XID:()=>Bt,XML:()=>It,arrayParser:()=>bn,arraySerializer:()=>Je,parseType:()=>le,parsers:()=>pn,serializers:()=>dn,types:()=>Ke});y();var gt=globalThis.JSON.parse,wt=globalThis.JSON.stringify,ge=16,we=17,At=18,Ae=20,ve=21,Qe=23,St=24,G=25,We=26,Dt=27,Bt=28,xt=29,Se=114,It=142,Mt=194,Tt=210,Rt=602,Et=604,Ct=650,_e=700,je=701,Pt=702,Ut=703,Nt=704,Lt=718,Ot=774,kt=790,Vt=829,Ft=869,Gt=1033,ze=1042,He=1043,qe=1082,vt=1083,$e=1114,De=1184,Qt=1186,Wt=1266,_t=1560,jt=1562,zt=1700,Ht=1790,qt=2202,$t=2203,Yt=2204,Kt=2205,Jt=2206,Xt=2950,Zt=2970,en=3220,tn=3361,nn=3402,rn=3614,sn=3615,an=3642,on=3734,un=3769,Ye=3802,ln=4089,cn=4096,Ke={string:{to:G,from:[G,He,ze],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid input for string type")},parse:e=>e},number:{to:0,from:[ve,Qe,We,_e,je],serialize:e=>e.toString(),parse:e=>+e},bigint:{to:Ae,from:[Ae],serialize:e=>e.toString(),parse:e=>{let t=BigInt(e);return t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER?t:Number(t)}},json:{to:Se,from:[Se,Ye],serialize:e=>typeof e=="string"?e:wt(e),parse:e=>gt(e)},boolean:{to:ge,from:[ge],serialize:e=>{if(typeof e!="boolean")throw new Error("Invalid input for boolean type");return e?"t":"f"},parse:e=>e==="t"},date:{to:De,from:[qe,$e,De],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return new Date(e).toISOString();if(e instanceof Date)return e.toISOString();throw new Error("Invalid input for date type")},parse:e=>new Date(e)},bytea:{to:we,from:[we],serialize:e=>{if(!(e instanceof Uint8Array))throw new Error("Invalid input for bytea type");return"\\x"+Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},parse:e=>{let t=e.slice(2);return Uint8Array.from({length:t.length/2},(n,r)=>parseInt(t.substring(r*2,(r+1)*2),16))}}},Be=fn(Ke),pn=Be.parsers,dn=Be.serializers;function le(e,t,n){if(e===null)return null;let r=n?.[t]??Be.parsers[t];return r?r(e,t):e}function fn(e){return Object.keys(e).reduce(({parsers:t,serializers:n},r)=>{let{to:i,from:a,serialize:u,parse:f}=e[r];return n[i]=u,n[r]=u,t[r]=f,Array.isArray(a)?a.forEach(c=>{t[c]=f,n[c]=u}):(t[a]=f,n[a]=u),{parsers:t,serializers:n}},{parsers:{},serializers:{}})}var mn=/\\/g,yn=/"/g;function hn(e){return e.replace(mn,"\\\\").replace(yn,'\\"')}function Je(e,t,n){if(Array.isArray(e)===!1)return e;if(!e.length)return"{}";let r=e[0],i=n===1020?";":",";return Array.isArray(r)?`{${e.map(a=>Je(a,t,n)).join(i)}}`:`{${e.map(a=>(a===void 0&&(a=null),a===null?"null":'"'+hn(t?t(a):a.toString())+'"')).join(i)}}`}var be={i:0,char:null,str:"",quoted:!1,last:0,p:null};function bn(e,t,n){return be.i=be.last=0,Xe(be,e,t,n)[0]}function Xe(e,t,n,r){let i=[],a=r===1020?";":",";for(;e.i<t.length;e.i++){if(e.char=t[e.i],e.quoted)e.char==="\\"?e.str+=t[++e.i]:e.char==='"'?(i.push(n?n(e.str):e.str),e.str="",e.quoted=t[e.i+1]==='"',e.last=e.i+2):e.str+=e.char;else if(e.char==='"')e.quoted=!0;else if(e.char==="{")e.last=++e.i,i.push(Xe(e,t,n,r));else if(e.char==="}"){e.quoted=!1,e.last<e.i&&i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1;break}else e.char===a&&e.p!=="}"&&e.p!=='"'&&(i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1);e.p=e.char}return e.last<e.i&&i.push(n?n(t.slice(e.last,e.i+1)):t.slice(e.last,e.i+1)),i}var Sn={};oe(Sn,{parseDescribeStatementResults:()=>xe,parseResults:()=>wn});y();function wn(e,t,n,r){let i=[],a={rows:[],fields:[]},u=0,f={...t,...n?.parsers},c=e.filter(x=>x.name==="rowDescription"||x.name==="dataRow"||x.name==="commandComplete");return c.forEach((x,bt)=>{if(x.name==="rowDescription"){let F=x;a.fields=F.fields.map(E=>({name:E.name,dataTypeID:E.dataTypeID}))}else if(x.name==="dataRow"&&a){let F=x;n?.rowMode==="array"?a.rows.push(F.fields.map((E,ae)=>le(E,a.fields[ae].dataTypeID,f))):a.rows.push(Object.fromEntries(F.fields.map((E,ae)=>[a.fields[ae].name,le(E,a.fields[ae].dataTypeID,f)])))}else x.name==="commandComplete"&&(u+=An(x),bt===c.length-1?i.push({...a,affectedRows:u,...r?{blob:r}:{}}):i.push(a),a={rows:[],fields:[]})}),i.length===0&&i.push({rows:[],fields:[]}),i}function An(e){let t=e.text.split(" ");switch(t[0]){case"INSERT":return parseInt(t[2],10);case"UPDATE":case"DELETE":return parseInt(t[1],10);default:return 0}}function xe(e){let t=e.find(n=>n.name==="parameterDescription");return t?t.dataTypeIDs:[]}var Ne={};oe(Ne,{AuthenticationCleartextPassword:()=>Q,AuthenticationMD5Password:()=>W,AuthenticationOk:()=>v,AuthenticationSASL:()=>_,AuthenticationSASLContinue:()=>j,AuthenticationSASLFinal:()=>z,BackendKeyDataMessage:()=>X,CommandCompleteMessage:()=>te,CopyDataMessage:()=>H,CopyResponse:()=>q,DataRowMessage:()=>ne,DatabaseError:()=>C,Field:()=>$,NoticeMessage:()=>re,NotificationResponseMessage:()=>Z,ParameterDescriptionMessage:()=>K,ParameterStatusMessage:()=>J,ReadyForQueryMessage:()=>ee,RowDescriptionMessage:()=>Y,bindComplete:()=>Me,closeComplete:()=>Te,copyDone:()=>Ue,emptyQuery:()=>Pe,noData:()=>Re,parseComplete:()=>Ie,portalSuspended:()=>Ee,replicationStart:()=>Ce});y();var Ie={name:"parseComplete",length:5},Me={name:"bindComplete",length:5},Te={name:"closeComplete",length:5},Re={name:"noData",length:5},Ee={name:"portalSuspended",length:5},Ce={name:"replicationStart",length:4},Pe={name:"emptyQuery",length:4},Ue={name:"copyDone",length:4},v=class{constructor(t){this.length=t;this.name="authenticationOk"}},Q=class{constructor(t){this.length=t;this.name="authenticationCleartextPassword"}},W=class{constructor(t,n){this.length=t;this.salt=n;this.name="authenticationMD5Password"}},_=class{constructor(t,n){this.length=t;this.mechanisms=n;this.name="authenticationSASL"}},j=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLContinue"}},z=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLFinal"}},C=class extends Error{constructor(n,r,i){super(n);this.length=r;this.name=i}},H=class{constructor(t,n){this.length=t;this.chunk=n;this.name="copyData"}},q=class{constructor(t,n,r,i){this.length=t;this.name=n;this.binary=r;this.columnTypes=new Array(i)}},$=class{constructor(t,n,r,i,a,u,f){this.name=t;this.tableID=n;this.columnID=r;this.dataTypeID=i;this.dataTypeSize=a;this.dataTypeModifier=u;this.format=f}},Y=class{constructor(t,n){this.length=t;this.fieldCount=n;this.name="rowDescription";this.fields=new Array(this.fieldCount)}},K=class{constructor(t,n){this.length=t;this.parameterCount=n;this.name="parameterDescription";this.dataTypeIDs=new Array(this.parameterCount)}},J=class{constructor(t,n,r){this.length=t;this.parameterName=n;this.parameterValue=r;this.name="parameterStatus"}},X=class{constructor(t,n,r){this.length=t;this.processID=n;this.secretKey=r;this.name="backendKeyData"}},Z=class{constructor(t,n,r,i){this.length=t;this.processId=n;this.channel=r;this.payload=i;this.name="notification"}},ee=class{constructor(t,n){this.length=t;this.status=n;this.name="readyForQuery"}},te=class{constructor(t,n){this.length=t;this.text=n;this.name="commandComplete"}},ne=class{constructor(t,n){this.length=t;this.fields=n;this.name="dataRow";this.fieldCount=n.length}},re=class{constructor(t,n){this.length=t;this.message=n;this.name="notice"}};var qn={};oe(qn,{Parser:()=>he,messages:()=>Ne,serialize:()=>k});y();y();y();y();function P(e){let t=e.length;for(let n=e.length-1;n>=0;n--){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}var b,g,N,pe,L,S,ce,U,Ze,R=class{constructor(t=256){this.size=t;h(this,S);h(this,b);h(this,g,5);h(this,N,!1);h(this,pe,new TextEncoder);h(this,L,0);d(this,b,p(this,S,ce).call(this,t))}addInt32(t){return p(this,S,U).call(this,4),s(this,b).setInt32(s(this,g),t,s(this,N)),d(this,g,s(this,g)+4),this}addInt16(t){return p(this,S,U).call(this,2),s(this,b).setInt16(s(this,g),t,s(this,N)),d(this,g,s(this,g)+2),this}addCString(t){return t&&this.addString(t),p(this,S,U).call(this,1),s(this,b).setUint8(s(this,g),0),ue(this,g)._++,this}addString(t=""){let n=P(t);return p(this,S,U).call(this,n),s(this,pe).encodeInto(t,new Uint8Array(s(this,b).buffer,s(this,g))),d(this,g,s(this,g)+n),this}add(t){return p(this,S,U).call(this,t.byteLength),new Uint8Array(s(this,b).buffer).set(new Uint8Array(t),s(this,g)),d(this,g,s(this,g)+t.byteLength),this}flush(t){let n=p(this,S,Ze).call(this,t);return d(this,g,5),d(this,b,p(this,S,ce).call(this,this.size)),new Uint8Array(n)}};b=new WeakMap,g=new WeakMap,N=new WeakMap,pe=new WeakMap,L=new WeakMap,S=new WeakSet,ce=function(t){return new DataView(new ArrayBuffer(t))},U=function(t){if(s(this,b).byteLength-s(this,g)<t){let r=s(this,b).buffer,i=r.byteLength+(r.byteLength>>1)+t;d(this,b,p(this,S,ce).call(this,i)),new Uint8Array(s(this,b).buffer).set(new Uint8Array(r))}},Ze=function(t){if(t){s(this,b).setUint8(s(this,L),t);let n=s(this,g)-(s(this,L)+1);s(this,b).setInt32(s(this,L)+1,n,s(this,N))}return s(this,b).buffer.slice(t?0:5,s(this,g))};var m=new R,Dn=e=>{m.addInt16(3).addInt16(0);for(let r of Object.keys(e))m.addCString(r).addCString(e[r]);m.addCString("client_encoding").addCString("UTF8");let t=m.addCString("").flush(),n=t.byteLength+4;return new R().addInt32(n).add(t).flush()},Bn=()=>{let e=new DataView(new ArrayBuffer(8));return e.setInt32(0,8,!1),e.setInt32(4,80877103,!1),new Uint8Array(e.buffer)},xn=e=>m.addCString(e).flush(112),In=(e,t)=>(m.addCString(e).addInt32(P(t)).addString(t),m.flush(112)),Mn=e=>m.addString(e).flush(112),Tn=e=>m.addCString(e).flush(81),Rn=[],En=e=>{let t=e.name??"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=m.addCString(t).addCString(e.text).addInt16(e.types?.length??0);return e.types?.forEach(r=>n.addInt32(r)),m.flush(80)},O=new R;var Cn=(e,t)=>{for(let n=0;n<e.length;n++){let r=t?t(e[n],n):e[n];if(r===null)m.addInt16(0),O.addInt32(-1);else if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)){let i=ArrayBuffer.isView(r)?r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength):r;m.addInt16(1),O.addInt32(i.byteLength),O.add(i)}else m.addInt16(0),O.addInt32(P(r)),O.addString(r)}},Pn=(e={})=>{let t=e.portal??"",n=e.statement??"",r=e.binary??!1,i=e.values??Rn,a=i.length;return m.addCString(t).addCString(n),m.addInt16(a),Cn(i,e.valueMapper),m.addInt16(a),m.add(O.flush()),m.addInt16(r?1:0),m.flush(66)},Un=new Uint8Array([69,0,0,0,9,0,0,0,0,0]),Nn=e=>{if(!e||!e.portal&&!e.rows)return Un;let t=e.portal??"",n=e.rows??0,r=P(t),i=4+r+1+4,a=new DataView(new ArrayBuffer(1+i));return a.setUint8(0,69),a.setInt32(1,i,!1),new TextEncoder().encodeInto(t,new Uint8Array(a.buffer,5)),a.setUint8(r+5,0),a.setUint32(a.byteLength-4,n,!1),new Uint8Array(a.buffer)},Ln=(e,t)=>{let n=new DataView(new ArrayBuffer(16));return n.setInt32(0,16,!1),n.setInt16(4,1234,!1),n.setInt16(6,5678,!1),n.setInt32(8,e,!1),n.setInt32(12,t,!1),new Uint8Array(n.buffer)},Le=(e,t)=>{let n=new R;return n.addCString(t),n.flush(e)},On=m.addCString("P").flush(68),kn=m.addCString("S").flush(68),Vn=e=>e.name?Le(68,`${e.type}${e.name??""}`):e.type==="P"?On:kn,Fn=e=>{let t=`${e.type}${e.name??""}`;return Le(67,t)},Gn=e=>m.add(e).flush(100),vn=e=>Le(102,e),de=e=>new Uint8Array([e,0,0,0,4]),Qn=de(72),Wn=de(83),_n=de(88),jn=de(99),k={startup:Dn,password:xn,requestSsl:Bn,sendSASLInitialResponseMessage:In,sendSCRAMClientFinalMessage:Mn,query:Tn,parse:En,bind:Pn,execute:Nn,describe:Vn,close:Fn,flush:()=>Qn,sync:()=>Wn,end:()=>_n,copyData:Gn,copyDone:()=>jn,copyFail:vn,cancel:Ln};y();y();var Oe={text:0,binary:1};y();var zn=new ArrayBuffer(0),T,w,me,ye,se,fe=class{constructor(t=0){h(this,T,new DataView(zn));h(this,w);h(this,me,"utf-8");h(this,ye,new TextDecoder(s(this,me)));h(this,se,!1);d(this,w,t)}setBuffer(t,n){d(this,w,t),d(this,T,new DataView(n))}int16(){let t=s(this,T).getInt16(s(this,w),s(this,se));return d(this,w,s(this,w)+2),t}byte(){let t=s(this,T).getUint8(s(this,w));return ue(this,w)._++,t}int32(){let t=s(this,T).getInt32(s(this,w),s(this,se));return d(this,w,s(this,w)+4),t}string(t){return s(this,ye).decode(this.bytes(t))}cstring(){let t=s(this,w),n=t;for(;s(this,T).getUint8(n++)!==0;);let r=this.string(n-t-1);return d(this,w,n),r}bytes(t){let n=s(this,T).buffer.slice(s(this,w),s(this,w)+t);return d(this,w,s(this,w)+t),new Uint8Array(n)}};T=new WeakMap,w=new WeakMap,me=new WeakMap,ye=new WeakMap,se=new WeakMap;var ke=1,Hn=4,et=ke+Hn,tt=new ArrayBuffer(0);var A,D,B,o,l,nt,rt,st,it,at,ot,ut,Ve,lt,ct,pt,dt,ft,mt,yt,ht,Fe,he=class{constructor(){h(this,l);h(this,A,new DataView(tt));h(this,D,0);h(this,B,0);h(this,o,new fe)}parse(t,n){p(this,l,nt).call(this,ArrayBuffer.isView(t)?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t);let r=s(this,B)+s(this,D),i=s(this,B);for(;i+et<=r;){let a=s(this,A).getUint8(i),u=s(this,A).getUint32(i+ke,!1),f=ke+u;if(f+i<=r){let c=p(this,l,rt).call(this,i+et,a,u,s(this,A).buffer);n(c),i+=f}else break}i===r?(d(this,A,new DataView(tt)),d(this,D,0),d(this,B,0)):(d(this,D,r-i),d(this,B,i))}};A=new WeakMap,D=new WeakMap,B=new WeakMap,o=new WeakMap,l=new WeakSet,nt=function(t){if(s(this,D)>0){let n=s(this,D)+t.byteLength;if(n+s(this,B)>s(this,A).byteLength){let i;if(n<=s(this,A).byteLength&&s(this,B)>=s(this,D))i=s(this,A).buffer;else{let a=s(this,A).byteLength*2;for(;n>=a;)a*=2;i=new ArrayBuffer(a)}new Uint8Array(i).set(new Uint8Array(s(this,A).buffer,s(this,B),s(this,D))),d(this,A,new DataView(i)),d(this,B,0)}new Uint8Array(s(this,A).buffer).set(new Uint8Array(t),s(this,B)+s(this,D)),d(this,D,n)}else d(this,A,new DataView(t)),d(this,B,0),d(this,D,t.byteLength)},rt=function(t,n,r,i){switch(n){case 50:return Me;case 49:return Ie;case 51:return Te;case 110:return Re;case 115:return Ee;case 99:return Ue;case 87:return Ce;case 73:return Pe;case 68:return p(this,l,ft).call(this,t,r,i);case 67:return p(this,l,it).call(this,t,r,i);case 90:return p(this,l,st).call(this,t,r,i);case 65:return p(this,l,lt).call(this,t,r,i);case 82:return p(this,l,ht).call(this,t,r,i);case 83:return p(this,l,mt).call(this,t,r,i);case 75:return p(this,l,yt).call(this,t,r,i);case 69:return p(this,l,Fe).call(this,t,r,i,"error");case 78:return p(this,l,Fe).call(this,t,r,i,"notice");case 84:return p(this,l,ct).call(this,t,r,i);case 116:return p(this,l,dt).call(this,t,r,i);case 71:return p(this,l,ot).call(this,t,r,i);case 72:return p(this,l,ut).call(this,t,r,i);case 100:return p(this,l,at).call(this,t,r,i);default:return new C("received invalid response: "+n.toString(16),r,"error")}},st=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).string(1);return new ee(n,i)},it=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring();return new te(n,i)},at=function(t,n,r){let i=r.slice(t,t+(n-4));return new H(n,new Uint8Array(i))},ot=function(t,n,r){return p(this,l,Ve).call(this,t,n,r,"copyInResponse")},ut=function(t,n,r){return p(this,l,Ve).call(this,t,n,r,"copyOutResponse")},Ve=function(t,n,r,i){s(this,o).setBuffer(t,r);let a=s(this,o).byte()!==0,u=s(this,o).int16(),f=new q(n,i,a,u);for(let c=0;c<u;c++)f.columnTypes[c]=s(this,o).int16();return f},lt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).cstring(),u=s(this,o).cstring();return new Z(n,i,a,u)},ct=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Y(n,i);for(let u=0;u<i;u++)a.fields[u]=p(this,l,pt).call(this);return a},pt=function(){let t=s(this,o).cstring(),n=s(this,o).int32(),r=s(this,o).int16(),i=s(this,o).int32(),a=s(this,o).int16(),u=s(this,o).int32(),f=s(this,o).int16()===0?Oe.text:Oe.binary;return new $(t,n,r,i,a,u,f)},dt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new K(n,i);for(let u=0;u<i;u++)a.dataTypeIDs[u]=s(this,o).int32();return a},ft=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Array(i);for(let u=0;u<i;u++){let f=s(this,o).int32();a[u]=f===-1?null:s(this,o).string(f)}return new ne(n,a)},mt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring(),a=s(this,o).cstring();return new J(n,i,a)},yt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).int32();return new X(n,i,a)},ht=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32();switch(i){case 0:return new v(n);case 3:return new Q(n);case 5:return new W(n,s(this,o).bytes(4));case 10:{let a=[];for(;;){let u=s(this,o).cstring();if(u.length===0)return new _(n,a);a.push(u)}}case 11:return new j(n,s(this,o).string(n-8));case 12:return new z(n,s(this,o).string(n-8));default:throw new Error("Unknown authenticationOk message type "+i)}},Fe=function(t,n,r,i){s(this,o).setBuffer(t,r);let a={},u=s(this,o).string(1);for(;u!=="\0";)a[u]=s(this,o).cstring(),u=s(this,o).string(1);let f=a.M,c=i==="notice"?new re(n,f):new C(f,n,i);return c.severity=a.S,c.code=a.C,c.detail=a.D,c.hint=a.H,c.position=a.P,c.internalPosition=a.p,c.internalQuery=a.q,c.where=a.W,c.schema=a.s,c.table=a.t,c.column=a.c,c.dataType=a.d,c.constraint=a.n,c.file=a.F,c.line=a.L,c.routine=a.R,c};y();var Ge=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ie;async function Er(){if(Ge||ie)return;let e=new URL("./postgres.wasm",import.meta.url);ie=fetch(e)}var V;async function Cr(e,t){if(t||V)return WebAssembly.instantiate(t||V,e),{instance:await WebAssembly.instantiate(t||V,e),module:t||V};let n=new URL("./postgres.wasm",import.meta.url);if(Ge){let i=await(await import("fs/promises")).readFile(n),{module:a,instance:u}=await WebAssembly.instantiate(i,e);return V=a,{instance:u,module:a}}else{ie||(ie=fetch(n));let r=await ie,{module:i,instance:a}=await WebAssembly.instantiateStreaming(r,e);return V=i,{instance:a,module:i}}}async function Pr(){let e=new URL("./postgres.data",import.meta.url);return Ge?(await(await import("fs/promises")).readFile(e)).buffer:(await fetch(e)).arrayBuffer()}var Ur=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();let e=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let n=0;n<e.length;n++)e[n]=Math.floor(Math.random()*256);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=[];return e.forEach(n=>{t.push(n.toString(16).padStart(2,"0"))}),t.slice(0,4).join("")+"-"+t.slice(4,6).join("")+"-"+t.slice(6,8).join("")+"-"+t.slice(8,10).join("")+"-"+t.slice(10).join("")};async function Nr(e,t,n,r){if(!n||n.length===0)return t;r=r??e;let i;try{await e.execProtocol(k.parse({text:t}),{syncToFs:!1}),i=xe((await e.execProtocol(k.describe({type:"S"}),{syncToFs:!1})).messages)}finally{await e.execProtocol(k.sync(),{syncToFs:!1})}let a=t.replace(/\$([0-9]+)/g,(f,c)=>"%"+c+"L");return(await r.query(`SELECT format($1, ${n.map((f,c)=>`$${c+2}`).join(", ")}) as query`,[a,...n],{paramTypes:[G,...i]})).rows[0].query}export{pn as a,dn as b,Je as c,bn as d,gn as e,wn as f,xe as g,Sn as h,k as i,C as j,Z as k,te as l,re as m,Ne as n,he as o,qn as p,Ge as q,Er as r,Cr as s,Pr as t,Ur as u,Nr as v};
//# sourceMappingURL=chunk-JSQ47LU7.js.map